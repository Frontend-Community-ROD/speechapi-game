(()=>{"use strict";var e={729:e=>{var t=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(e,t,o,r,s){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new i(o,r||e,s),a=n?n+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],c]:e._events[a].push(c):(e._events[a]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),c.prototype.eventNames=function(){var e,o,i=[];if(0===this._eventsCount)return i;for(o in e=this._events)t.call(e,o)&&i.push(n?o.slice(1):o);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},c.prototype.listeners=function(e){var t=n?n+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var i=0,r=o.length,s=new Array(r);i<r;i++)s[i]=o[i].fn;return s},c.prototype.listenerCount=function(e){var t=n?n+e:e,o=this._events[t];return o?o.fn?1:o.length:0},c.prototype.emit=function(e,t,o,i,r,s){var c=n?n+e:e;if(!this._events[c])return!1;var a,l,h=this._events[c],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,o),!0;case 4:return h.fn.call(h.context,t,o,i),!0;case 5:return h.fn.call(h.context,t,o,i,r),!0;case 6:return h.fn.call(h.context,t,o,i,r,s),!0}for(l=1,a=new Array(u-1);l<u;l++)a[l-1]=arguments[l];h.fn.apply(h.context,a)}else{var p,f=h.length;for(l=0;l<f;l++)switch(h[l].once&&this.removeListener(e,h[l].fn,void 0,!0),u){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,t);break;case 3:h[l].fn.call(h[l].context,t,o);break;case 4:h[l].fn.call(h[l].context,t,o,i);break;default:if(!a)for(p=1,a=new Array(u-1);p<u;p++)a[p-1]=arguments[p];h[l].fn.apply(h[l].context,a)}}return!0},c.prototype.on=function(e,t,n){return r(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return r(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,o,i){var r=n?n+e:e;if(!this._events[r])return this;if(!t)return s(this,r),this;var c=this._events[r];if(c.fn)c.fn!==t||i&&!c.once||o&&c.context!==o||s(this,r);else{for(var a=0,l=[],h=c.length;a<h;a++)(c[a].fn!==t||i&&!c[a].once||o&&c[a].context!==o)&&l.push(c[a]);l.length?this._events[r]=1===l.length?l[0]:l:s(this,r)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{var e=n(729);const t={numberOfWinningSpaces:1,numberOfHoles:0};class o extends PIXI.Container{#e;#t;#n=[];#o=[];#i=new e.EventEmitter;static#r=5;static#s=o.#r+10;static#c=4;static#a=4;static#l=120;constructor(e=t){super();const n={...t,...e};this.#e=new PIXI.Graphics,this.addChild(this.#e),this.setLevel(n)}setLevel(e){this.#n=[],this.#o=[],this.#t=o.#h();for(let t=0;t<e.numberOfWinningSpaces&&t<3;t++)this.#n=this.#n.concat(o.#h([...this.#n,...this.#o,this.#t]));for(let t=0;t<e.numberOfHoles&&t<3;t++)this.#o=this.#o.concat(o.#h([...this.#n,...this.#o,this.#t]))}static#u(e){return Math.floor(Math.random()*e)}static#h(e=[]){let t={};do{t={col:o.#p(),row:o.#f()}}while(o.positionIsIncludedInArray(e,t));return t}static#p(){return o.#u(o.#a-1)}static#f(){return o.#u(o.#c-1)}static positionIsIncludedInArray(e,t){return-1!==e.findIndex((e=>e.col===t.col&&e.row===t.row))}render(e){super.render(e),this.#e.clear();for(let e=0;e<o.#c;e++)for(let t=0;t<o.#a;t++)this.#e.beginFill(16711680),-1!==this.#o.findIndex((n=>n.col===t&&n.row===e))&&this.#e.beginFill(0),-1!==this.#n.findIndex((n=>n.col===t&&n.row===e))&&this.#e.beginFill(16777215),this.#e.drawRect(o.#r+o.#l*t,o.#r+o.#l*e,o.#l-2*o.#r,o.#l-2*o.#r);this.#e.beginFill(5232709),this.#e.drawRect(o.#s+o.#l*this.#t.col,o.#s+o.#l*this.#t.row,o.#l-2*o.#s,o.#l-2*o.#s),this.#e.endFill()}#v(){return-1!==this.#n.findIndex((e=>e.col===this.#t.col&&e.row===this.#t.row))}#d(e){return-1!==this.#o.findIndex((t=>t.col===e.col&&t.row===e.row))}#m(e){return e.col>=0&&e.col<o.#a&&e.row>=0&&e.row<o.#c&&!this.#d(e)}#w(e=0,t=0){if(this.#v())return;const n={col:this.#t.col+e,row:this.#t.row+t};this.#m(n)&&(this.#t=n,this.#v()&&this.#i.emit("win"))}moveLeft(){this.#w(-1)}moveRight(){this.#w(1)}moveUp(){this.#w(0,-1)}moveDown(){this.#w(0,1)}onwin(e){this.#i.on("win",e)}}const i=o,r=(e,t)=>({numberOfWinningSpaces:e,numberOfHoles:t}),s={1:r(3,0),2:r(3,0),3:r(3,1),4:r(3,1),5:r(2,1),6:r(2,1),7:r(2,2),8:r(2,2),9:r(1,2),10:r(1,2),11:r(1,3),12:r(1,3),13:r(1,3),14:r(1,3),15:r(1,3)};var c=new PIXI.Application({width:480,height:480});document.body.appendChild(c.view);let a=1,l=s[""+a];const h=new i(l);h.onwin((()=>{console.log("win"),a++,l=s[""+a],h.setLevel(l)})),c.stage.addChild(h);var u=u||webkitSpeechRecognition,p=p||webkitSpeechGrammarList,f=f||webkitSpeechRecognitionEvent,v=["izquierda","derecha","arriba","abajo"],d="#JSGF V1.0; grammar controls; public <control> = "+v.join(" | ")+" ;";const m={izquierda:()=>h.moveLeft(),derecha:()=>h.moveRight(),abajo:()=>h.moveDown(),arriba:()=>h.moveUp()};let w=!1;var _=new u,g=new p;g.addFromString(d,1),_.grammars=g,_.continuous=!1,_.lang="es",_.interimResults=!1,_.maxAlternatives=1,document.querySelector("html"),document.body.onclick=function(){w?console.log("Already capturing..."):(_.start(),w=!0,console.log("Ready to receive a color command."))},_.onstart=function(){console.log("Capturing started...")},_.onresult=function(e){const t=e.results[0][0].transcript;console.log("results",e.results),console.log("Confidence: "+e.results[0][0].confidence);const n=t.split(" ").filter((e=>v.includes(e)));console.log("speech",n),n.forEach((e=>m[e]()))},_.onend=function(){console.log("Capturing ended..."),_.start()}})()})();